(this.webpackJsonpquiz=this.webpackJsonpquiz||[]).push([[0],{132:function(e,t,n){},133:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(44),c=n.n(i),o=n(14),l=n(11),s=n(24),u=n(135),d=n(136),p=n(138),g=n(23),m=n(19),v=n.n(m),h=n(4),f=n.n(h),b=r.a.createContext(null),E=n(32),y=n(67),w=n(27),k=n(46),S=(n(76),n(77),n(25)),N=n(20);function q(){var e=Object(S.a)(['\n    query getQuiz($workspace: Workspace!, $id: String!, $language: String!) {\n        response: jcr(workspace: $workspace) {\n            quiz: nodeById(uuid: $id) {\n                id: uuid\n                type: primaryNodeType{\n                    value:name\n                }\n                key: property(name:"game4:quizKey"){\n                    value\n                }\n                title: displayName(language:$language)\n                subtitle: property(language:$language, name:"game4:subtitle"){\n                    value\n                }\n                description: property(language:$language,name:"game4:description"){\n                    value\n                }\n                duration: property(name:"game4:duration"){\n                    value\n                }\n                cover: property(name:"game4:cover"){\n                    node: refNode {\n                        path\n                    }\n                }\n                consents: property(name:"game4:consentType"){\n                    nodes: refNodes {\n                        id: uuid\n                        actived: property(language:$language,name:"wem:activated"){\n                            value\n                        }\n                    }\n                }\n                children{\n                    nodes {\n                        id: uuid\n                        type: primaryNodeType{\n                            value:name\n                        }\n                    }\n                },\n                btnStart: property(language:$language, name:"game4:btnStart"){\n                    value\n                },\n                btnSubmit: property(language:$language, name:"game4:btnSubmit"){\n                    value\n                },\n                btnQuestion: property(language:$language, name:"game4:btnQuestion"){\n                    value\n                },\n                btnNextQuestion: property(language:$language, name:"game4:btnNextQuestion"){\n                    value\n                },\n                btnShowResults: property(language:$language, name:"game4:btnShowResults"){\n                    value\n                },\n                consentTitle: property(language:$language, name:"game4:consentTitle"){\n                    value\n                },\n                correctAnswer: property(language:$language, name:"game4:correctAnswer"){\n                    value\n                },\n                wrongAnswer: property(language:$language, name:"game4:wrongAnswer"){\n                    value\n                }\n            }\n        }\n    }\n']);return q=function(){return e},e}var _=Object(N.b)(q()),O=n(38),j=n(45),x=n(26),z=n(137);function $(){var e=Object(S.a)(['\n    query getConsent($workspace: Workspace!, $id: String!, $language: String!) {\n        response: jcr(workspace: $workspace) {\n            consent: nodeById(uuid: $id) {\n                id: uuid\n                identifier:name\n                title:displayName(language:$language)\n                description: property(language:$language, name:"jcr:description"){\n                    value\n                }\n                actived: property(language:$language,name:"wem:activated"){\n                    value\n                }\n            }\n        }\n    }\n']);return $=function(){return e},e}var I=Object(N.b)($()),C=function e(t){Object(s.a)(this,e),this.id=f()(t,"id"),this.identifier=f()(t,"identifier"),this.title=f()(t,"title"),this.description=f()(t,"description.value"),this.actived=JSON.parse(f()(t,"actived.value",!1))},A=function(e){var t=r.a.useContext(b),n=t.gql_variables,a=t.scope,i=t.consent_status,c=Object.assign(n,{id:e.id}),s=Object(g.a)(I,{variables:c}),u=s.loading,d=s.error,p=s.data,m=r.a.useState({}),v=Object(l.a)(m,2),h=v[0],E=v[1],y=r.a.useState(!1),w=Object(l.a)(y,2),k=w[0],S=w[1];if(r.a.useEffect((function(){if(!1===u&&p){var e=f()(p,"response.consent",{});E(new C(e))}}),[u,p]),r.a.useEffect((function(){var t='consents["'.concat(a,"/").concat(h.identifier,'"]'),n="".concat(t,".status"),r="".concat(t,".revokeDate"),c=f()(e.cxs,n),l=f()(e.cxs,r);i.GRANTED===c&&Date.now()<Date.parse(l)&&(S(!0),e.setGranted([].concat(Object(o.a)(e.granted),[h.id])))}),[h]),u)return r.a.createElement("p",null,"Loading...");if(d)return r.a.createElement("p",null,"Error :(");return r.a.createElement("li",null,h.actived&&!k&&r.a.createElement("div",{className:"consent-to-grant"},r.a.createElement(z.a.Check,{custom:!0,type:"checkbox",name:h.identifier,id:h.id,label:h.title,onChange:e.handleChange,checked:e.checked}),r.a.createElement("i",null,h.description)),h.actived&&k&&r.a.createElement("p",{className:"consent-granted"},r.a.createElement(x.a,{icon:["fas","check"]}),h.title,r.a.createElement(x.a,{className:"consent-denied",icon:["fas","ban"],onClick:function(){e.handleConsentStatus(h.identifier,i.DENIED),S(!1),e.setGranted(e.granted.filter((function(e){return e!==h.id})))}}),r.a.createElement("i",null,h.description)))},D=function(e){var t=r.a.useContext(b),n=t.files_endpoint,a=t.consent_status,i=t.scope,c=t.gql_variables,s=t.language_bundle,u=r.a.useState({}),d=Object(l.a)(u,2),g=d[0],m=d[1],h=r.a.useState([]),f=Object(l.a)(h,2),E=f[0],y=f[1],w=r.a.useState(!e.showNext&&"LIVE"===c.workspace),k=Object(l.a)(w,2),S=k[0],N=k[1];r.a.useEffect((function(){if(console.log(" ** gql_variables.workspace !== 'LIVE'  : ","LIVE"!==c.workspace),e.showNext&&"LIVE"===c.workspace){var t=!1;if(console.log(" ** granted  : ",E),e.quiz.consents){var n=Object.keys(g),a=[].concat(Object(o.a)(E),Object(o.a)(n)),r=e.quiz.consents.filter((function(e){return e.actived})).map((function(e){return e.id}));t=a.filter((function(e){return r.includes(e)})).length===r.length}console.log("*** allConsentChecked :",t),N(!t)}}),[g,E]);var q=function(e){-1===Object.keys(g).indexOf(e.target.id)?m(Object(j.a)({},g,Object(O.a)({},e.target.id,e.target.name))):(delete g[e.target.id],m(Object(j.a)({},g)))},_=function(e,t){var n=new Date,a=new Date(n);a.setFullYear(a.getFullYear()+2),console.log("handleConsentStatus status :",t),v.a.track("modifyConsent",{consent:{typeIdentifier:e,scope:i,status:t,statusDate:n.toISOString(),revokeDate:a.toISOString()}})};return r.a.createElement("div",{className:"game4-quiz__item show-overlay ".concat(e.show?"active":""," ")},r.a.createElement("img",{className:"d-block w-100",src:"".concat(n).concat(encodeURI(e.quiz.cover)),alt:e.quiz.title}),r.a.createElement("div",{className:"game4-quiz__caption"},r.a.createElement("h2",{className:"text-uppercase"},e.quiz.title,r.a.createElement("span",{className:"subtitle"},e.quiz.subtitle)),r.a.createElement("div",{className:"duration"},r.a.createElement(x.a,{icon:["far","clock"]}),e.quiz.duration),r.a.createElement("div",{className:"lead",dangerouslySetInnerHTML:{__html:e.quiz.description}}),r.a.createElement(p.a,{variant:"game4-quiz",onClick:function(t){Object.keys(g).forEach((function(e){_(g[e],a.GRANTED)})),e.onClickNext()},disabled:S},s&&s.btnStart)),e.quiz.consents.length>0&&e.cxs&&r.a.createElement("div",{className:"game4-quiz__consent"},r.a.createElement("h5",null,s&&s.consentTitle),r.a.createElement("ul",null,e.quiz.consents.map((function(t){return t.actived?r.a.createElement(A,{key:t.id,id:t.id,checked:Object.keys(g).includes(t.id),setChecked:m,handleChange:q,cxs:e.cxs,setGranted:y,granted:E,handleConsentStatus:_}):r.a.createElement(r.a.Fragment,null)})))))},R=n(64);function P(){var e=Object(S.a)(['\n    query getQna($workspace: Workspace!, $id: String!, $language: String!) {\n        response: jcr(workspace: $workspace) {\n            qna: nodeById(uuid: $id) {\n                id: uuid\n                title:displayName(language:$language)\n                question: property(language:$language, name:"game4:question"){\n                    value\n                }\n                help: property(language:$language,name:"game4:help"){\n                    value\n                }\n                nbExpectedAnswer: property(name:"game4:nbExpectedAnswer"){\n                    value\n                }\n                answers: property(language:$language,name:"game4:answers"){\n                    values\n                }\n                randomSelection: property(name:"game4:randomSelection"){\n                    value\n                }\n                notUsedForScore: property(name:"game4:notUsedForScore"){\n                    value\n                }\n                cover: property(name:"game4:cover"){\n                    node: refNode {\n                        path\n                    }\n                }\n                jExpField2Map: property(name:"game4:jExpProperty"){\n                    value\n                }\n\n            }\n        }\n    }\n']);return P=function(){return e},e}var T=Object(N.b)(P()),L=function(e){var t=e.answer.valid||!!e.qna.notUsedForScore&&e.answer.checked;return r.a.createElement("li",{className:e.answer.checked?"checked":""},r.a.createElement("div",{className:"result ".concat(t?"valid":"")},t&&r.a.createElement(x.a,{icon:["fas","check"]}),!t&&r.a.createElement(x.a,{icon:["fas","times"]})),r.a.createElement(z.a.Check,{custom:!0,type:e.qna.computedNbExpectedAnswer>1?"checkbox":"radio",name:e.qna.id,id:e.answer.id,label:e.answer.label,onChange:e.handleChange,checked:e.checked}))};function Q(e,t){var n="";t.indexOf("a")>-1&&(n+="abcdefghijklmnopqrstuvwxyz"),t.indexOf("A")>-1&&(n+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"),t.indexOf("#")>-1&&(n+="0123456789"),t.indexOf("!")>-1&&(n+="~`!@#$%^&*()_+-={}[]:\";'<>?,./|\\");for(var a="",r=e;r>0;--r)a+=n[Math.floor(Math.random()*n.length)];return a}var U=function(){function e(t,n){Object(s.a)(this,e),this.id=f()(t,"id"),this.title=f()(t,"title"),this.question=f()(t,"question.value",""),this.help=f()(t,"help.value",""),this.randomSelection=JSON.parse(f()(t,"randomSelection.value",!1)),this.notUsedForScore=JSON.parse(f()(t,"notUsedForScore.value",!1)),this.cover=f()(t,"cover.node.path",""),this.jExpField2Map=f()(t,"jExpField2Map.value",""),this.answers=f()(t,"answers.values",[]).map((function(e){var t=Q(5,"#aA"),a=0===e.indexOf(n);return a&&(e=e.substring(n.length+1)),{id:t,label:e,checked:!1,valid:a}})),this.randomSelection&&this.answers.sort((function(e,t){return e.id>t.id})),this.computedNbExpectedAnswer=this.answers.filter((function(e){return e.valid})).length}return Object(R.a)(e,[{key:"valid",value:function(){if(console.log("qna isValid this.notUsedForScore : ",this.notUsedForScore),this.notUsedForScore)return!0;console.log("qna isValid start eval");var e=this.answers.reduce((function(e,t){return t.valid&&e.push(t.checked),e}),[]).reduce((function(e,t){return e&&t}),!0);return console.log("qna isValid : ",e),e}}]),e}(),F=function(e){var t=r.a.useContext(b),n=t.gql_variables,a=t.files_endpoint,i=t.quiz_validMark,c=t.language_bundle,s=Object.assign(n,{id:e.id}),u=Object(g.a)(T,{variables:s}),d=u.loading,m=u.error,h=u.data,E=r.a.useState({answers:[]}),y=Object(l.a)(E,2),w=y[0],k=y[1],S=r.a.useState(!0),N=Object(l.a)(S,2),q=N[0],_=N[1],O=r.a.useState([]),j=Object(l.a)(O,2),x=j[0],z=j[1];if(r.a.useEffect((function(){if(!1===d&&h){var e=f()(h,"response.qna",{});k(new U(e,i))}}),[d,h]),r.a.useEffect((function(){var e=!0;w.answers.forEach((function(t){t.checked=x.includes(t.id),t.checked&&(e=!1)})),_(e)}),[x]),d)return r.a.createElement("p",null,"Loading...");if(m)return r.a.createElement("p",null,"Error :(");var $=function(e){if(w.computedNbExpectedAnswer<=1)z(e.target.id);else{var t=x.indexOf(e.target.id);-1===t?z([].concat(Object(o.a)(x),[e.target.id])):(x.splice(t,1),z(Object(o.a)(x)))}};return r.a.createElement("div",{className:"game4-quiz__item show-overlay ".concat(e.show?"active":""," ")},r.a.createElement("img",{className:"d-block w-100",src:"".concat(a).concat(w.cover),alt:w.title}),r.a.createElement("div",{className:"game4-quiz__caption d-none d-md-block"},r.a.createElement("fieldset",null,r.a.createElement("legend",null,w.question,r.a.createElement("i",null,w.help)),r.a.createElement("ol",{className:"game4-quiz__answer-list"},w.answers.map((function(e,t){return r.a.createElement(L,{key:t,qna:w,answer:e,checked:x.includes(e.id),handleChange:$})})))),r.a.createElement(p.a,{variant:"game4-quiz",onClick:function(){var t;if(console.log("[handleSubmit] props.resultSet => ",e.resultSet),(t=console).log.apply(t,["[handleSubmit] ...props.resultSet => "].concat(Object(o.a)(e.resultSet))),console.log("[handleSubmit] qna.valid() => ",w.valid()),e.setResultSet([].concat(Object(o.a)(e.resultSet),[w.valid()])),w.jExpField2Map){var n=w.answers.filter((function(e){return e.checked})).reduce((function(e,t){return t.label&&0<t.label.length?t.label:null}),null);v.a.track("updateVisitorData",{update:{propertyName:"properties.".concat(w.jExpField2Map),propertyValue:n}})}},disabled:q},c&&c.btnSubmit)))};function M(){var e=Object(S.a)(['\n    query getWarmup($workspace: Workspace!, $id: String!, $language: String!) {\n        response: jcr(workspace: $workspace) {\n            warmup: nodeById(uuid: $id) {\n                id: uuid\n                title:displayName(language:$language)\n                subtitle: property(language:$language, name:"game4:subtitle"){\n                    value\n                }\n                content: property(language:$language,name:"game4:content"){\n                    value\n                }\n                duration: property(name:"game4:qnaDuration"){\n                    value\n                }\n                videoLink: property(name:"game4:videoLink"){\n                    value\n                }\n                videoExtPath: property(language:$language,name:"game4:videoExtPath"){\n                    value\n                }\n                videoIntPath: property(language:$language,name:"game4:videoIntPath"){\n                    node: refNode {\n                        path\n                    }\n                }\n                cover: property(name:"game4:masterQnaCover"){\n                    node: refNode {\n                        path\n                    }\n                }\n                children{\n                    nodes {\n                        id: uuid\n                        type: primaryNodeType{\n                            value:name\n                        }\n                    }\n                }\n    \n            }\n        }\n    }\n']);return M=function(){return e},e}var V=Object(N.b)(M()),W=n(65),B=n.n(W),G=function(e){var t=e.videoURL,n=e.warmupID,i=Object(a.useContext)(b).content,c=Object(a.useRef)(null);function o(e){var t=e.status;console.log("collectEvent start uTracker: ",v.a),v.a.track("video",{id:i.id,type:i.type,game4Quiz:{id:i.id,type:i.type},game4Warmup:{id:n},game4Video:{duration:c.current.getDuration(),currentTime:c.current.getCurrentTime(),status:t}})}return r.a.createElement("div",{className:"player-wrapper"},r.a.createElement(B.a,{ref:c,className:"react-player",url:t,controls:!0,width:"100%",height:"100%",onStart:function(){console.log("onStart seekTo 4.2s")},onPlay:function(){o({status:"started"}),console.log("onPlay called")},onPause:function(){o({status:"pause"})},onEnded:function(){o({status:"end"})}}))},J=function e(t,n){Object(s.a)(this,e),this.id=f()(t,"id",""),this.title=f()(t,"title",""),this.subtitle=f()(t,"subtitle.value",""),this.content=f()(t,"content.value",""),this.duration=f()(t,"duration.value",""),this.videoLink=f()(t,"videoLink.value",""),this.videoIntPath=f()(t,"videoIntPath.node.path"),this.cover=f()(t,"cover.node.path",""),this.childNodes=f()(t,"children.nodes",[]).map((function(e){return{id:f()(e,"id"),type:f()(e,"type.value")}})),this.videoLink&&(this.video=this.videoIntPath?"".concat(n).concat(encodeURI(this.videoIntPath)):f()(t,"videoExtPath.value"))},K=function(e){var t=Object(a.useContext)(b),n=t.gql_variables,i=t.files_endpoint,c=t.language_bundle,o=Object.assign(n,{id:e.id}),s=Object(g.a)(V,{variables:o}),u=s.loading,d=s.error,m=s.data,v=r.a.useState({childNodes:[]}),h=Object(l.a)(v,2),E=h[0],y=h[1];return r.a.useEffect((function(){if(!1===u&&m){var t=new J(f()(m,"response.warmup",{}),i),n=[];t.childNodes.forEach((function(e){return n.push(e.id)})),e.addItem2Slides(n,t.id),y(t)}}),[u,m]),u?r.a.createElement("p",null,"Loading..."):d?r.a.createElement("p",null,"Error :("):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"game4-quiz__item show-overlay ".concat(e.show?"active":""," ")},r.a.createElement("img",{className:"d-block w-100",src:"".concat(i).concat(E.cover),alt:E.title}),r.a.createElement("div",{className:"game4-quiz__caption d-none d-md-block"},r.a.createElement("h2",{className:"text-uppercase"},E.title,r.a.createElement("span",{className:"subtitle"},E.subtitle)),r.a.createElement("div",{className:"lead",dangerouslySetInnerHTML:{__html:E.content}}),null!=E.video&&r.a.createElement("div",null,r.a.createElement(G,{videoURL:E.video,warmupID:E.id})),r.a.createElement(p.a,{variant:"game4-quiz",onClick:e.onClickNext},c&&c.btnQuestion))),E.childNodes.map((function(t){return r.a.createElement(F,{key:t.id,id:t.id,show:e.index===t.id,resultSet:e.resultSet,setResultSet:e.setResultSet})})))},Z=n(66),H=function(e){var t=r.a.useContext(b).files_endpoint;return r.a.createElement("div",{className:"game4-quiz__item show-overlay ".concat(e.show?"active":""," ")},r.a.createElement("img",{className:"d-block w-100",src:"".concat(t).concat(encodeURI(e.quiz.cover)),alt:e.quiz.title}),r.a.createElement("div",{className:"game4-quiz__caption d-none d-md-block"},r.a.createElement("h2",{className:"text-uppercase"},e.quiz.title,r.a.createElement("span",{className:"subtitle"},e.quiz.subtitle)),r.a.createElement("div",{className:"game4-quiz__score-result col-6 offset-3 col-md-4 offset-md-4"},r.a.createElement(Z.a,{value:e.score(),text:"".concat(e.score(),"%")}))))};E.b.add(y.a,k.b,w.d,k.a,w.c,w.b,w.f,w.e,w.a);var Y=function(e){var t=e.active,n=e.handleSelect;return r.a.createElement("li",{className:"".concat(t?"active":""),onClick:n})},X=function e(t){Object(s.a)(this,e),this.id=f()(t,"id"),this.type=f()(t,"type.value"),this.key=f()(t,"key.value",{}),this.title=f()(t,"title",""),this.subtitle=f()(t,"subtitle.value",""),this.description=f()(t,"description.value",""),this.duration=f()(t,"duration.value",""),this.cover=f()(t,"cover.node.path",""),this.consents=f()(t,"consents.nodes",[]).map((function(e){return{id:f()(e,"id"),actived:JSON.parse(f()(e,"actived.value"))}})),this.childNodes=f()(t,"children.nodes",[]).map((function(e){return{id:f()(e,"id"),type:f()(e,"type.value")}})),this.scoreIndex=Q(5,"#aA")},ee=function(e){var t=e.context,n=Object(g.a)(_,{variables:t.gql_variables}),a=n.loading,i=n.error,c=n.data,s=r.a.useState({consents:[],childNodes:[]}),m=Object(l.a)(s,2),h=m[0],E=m[1],y=r.a.useState(!1),w=Object(l.a)(y,2),k=w[0],S=w[1],N=r.a.useState(!1),q=Object(l.a)(N,2),O=q[0],j=q[1],x=r.a.useState([]),z=Object(l.a)(x,2),$=z[0],I=z[1],C=r.a.useState([]),A=Object(l.a)(C,2),R=A[0],P=A[1],T=r.a.useState(),L=Object(l.a)(T,2),Q=L[0],U=L[1],M=r.a.useState(null),V=Object(l.a)(M,2),W=V[0],B=V[1],G=function(e,t){return P((function(n){if(console.debug("addItem2Slides__setSlideIndex; ids : ",e,", parentId : ",t,", slideIndex : ",n),t&&n.includes(t)){var a=n.indexOf(t)+1;return n.splice.apply(n,[a,0].concat(Object(o.a)(e))),Object(o.a)(n)}return[].concat(Object(o.a)(n),Object(o.a)(e))}))};if(r.a.useEffect((function(){if(console.debug("App Quiz init !"),!1===a&&c){console.debug("App Quiz init Set Data!");var e=f()(c,"response.quiz",{}),n=new X(e);t.language_bundle=function(e){return["btnStart","btnSubmit","btnQuestion","btnNextQuestion","btnShowResults","consentTitle","correctAnswer","wrongAnswer"].reduce((function(t,n){return t[n]=f()(e,"".concat(n,".value")),console.debug("bundle: ",t),t}),{})}(e);var r=[n.id];n.childNodes.forEach((function(e){return r.push(e.id)})),r.push(n.scoreIndex),G(r),U(n.id),E(n),console.debug("App Quiz init"),"LIVE"===t.gql_variables.workspace&&(v.a.initialize({"Apache Unomi":{scope:t.scope,url:t.cdp_endpoint,sessionId:"qZ-".concat(n.key,"-").concat(Date.now())}}),v.a.ready((function(){B(window.cxs)}))),t.content={id:n.id,type:f()(e,"type.value")}}}),[a,c]),r.a.useEffect((function(){if(console.debug("useEffect resultSet : ",$),Array.isArray($)&&$.length>0){var e,t=$.slice(-1);console.debug("resultSet useEffect setResult result: ",t),(e=console).debug.apply(e,["resultSet useEffect setResult ...result: "].concat(Object(o.a)(t))),j.apply(void 0,Object(o.a)(t)),S(!0)}}),[$]),a)return r.a.createElement("p",null,"Loading...");if(i)return r.a.createElement("p",null,"Error :(");var J=R.length-1,Z=R.indexOf(Q)<J,ee=R.indexOf(Q)===J-1,te=function(){S(!1),console.log("index : ",Q);var e=R.indexOf(Q);console.log("current : ",e),e<J&&U(R[e+1]),e+1===J&&v.a.track("setQuizScore",{score:"".concat(h.key).concat(t.score_splitPattern).concat(ne())})},ne=function(){var e=$.filter((function(e){return e})).length,t=$.length;return Math.floor(e/t*100)};return r.a.createElement(b.Provider,{value:t},r.a.createElement(u.a,null,r.a.createElement(d.a,null,r.a.createElement("div",{className:"game4-quiz slide ".concat(k?"show-result":"")},r.a.createElement("div",{className:"game4-quiz__header"},r.a.createElement("span",{className:"game4-quiz__header-result"},O&&t.language_bundle&&t.language_bundle.correctAnswer,!O&&t.language_bundle&&t.language_bundle.wrongAnswer),r.a.createElement(p.a,{variant:"game4-quiz-header",onClick:te,disabled:!Z},!ee&&t.language_bundle&&t.language_bundle.btnNextQuestion,ee&&t.language_bundle&&t.language_bundle.btnShowResults)),r.a.createElement("ol",{className:"game4-quiz__indicators"},R.map((function(e){return r.a.createElement(Y,{key:e,active:Q===e,handleSelect:function(){U(e)}})}))),r.a.createElement("div",{className:"game4-quiz__inner"},r.a.createElement(D,{key:h.id,quiz:h,show:Q===h.id,onClickNext:te,showNext:Z,cxs:W}),h.childNodes.map((function(e,n){return e.type===t.cnd_type.QNA?r.a.createElement(F,{key:e.id,id:e.id,show:Q===e.id,resultSet:$,setResultSet:I}):e.type===t.cnd_type.WARMUP?r.a.createElement(K,{key:e.id,id:e.id,show:Q===e.id,resultSet:$,setResultSet:I,addItem2Slides:G,index:Q,onClickNext:te}):r.a.createElement("p",{className:"text-danger"},"node type ",e.type," is not supported")})),r.a.createElement(H,{quiz:h,show:Q===h.scoreIndex,score:ne}))))))},te=function(e){var t=e.item,n=e.errors;return r.a.createElement("div",null,r.a.createElement("h1",null,"Validation errors"),r.a.createElement("p",null,"An error occurred when validating ",r.a.createElement("b",null,t)),r.a.createElement("ul",null,n.map((function(e,t){return r.a.createElement("li",null,e.dataPath," : ",e.message)}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ne=n(16),ae=n(68),re={QNA:"game4nt:qna",WARMUP:"game4nt:warmup"},ie={GRANTED:"GRANTED",DENIED:"DENIED",REVOKED:"REVOKED"},ce={context:{title:"context validation schema ",description:"context is an object provided by the page in charge to load the app",type:"object",properties:{host:{type:"string",format:"uri",default:"http://localhost:8080"},workspace:{type:"string",enum:["default","live"],default:"live"},scope:{type:"string",pattern:"[a-zA-Z0-9-_]+"},files_endpoint:{type:"string",format:"uri",default:"http://localhost:8080/files/live"},gql_endpoint:{type:"string",format:"uri",default:"http://localhost:8080/modules/graphql"},gql_authorization:{type:"string"},gql_variables:{type:"object",properties:{id:{type:"string"},language:{type:"string",pattern:"[a-z]{2}(?:_[A-Z]{2})?"}},required:["id","language"]},cdp_endpoint:{type:"string",format:"uri",default:"http://localhost:8181"}},required:["host","workspace","scope","files_endpoint","gql_endpoint","gql_variables","cdp_endpoint"],additionalProperties:!1}},oe=new ae({useDefaults:!0});n(132);window.quizUIApp=function(e,t){try{t=function(e){if(!oe.validate(ce.context,e))throw{item:"Context configuration object",errors:oe.errors};return e.gql_variables.workspace=function(e){return"default"===e?"EDIT":e.toUpperCase()}(e.workspace),e.cnd_type=re,e.consent_status=ie,e.quiz_validMark="[*]",e.score_splitPattern="::",e}(t);var n={};t.gql_authorization&&(n.Authorization=t.gql_authorization);var a=new N.a({uri:t.gql_endpoint,headers:n});c.a.render(r.a.createElement(ne.a,{client:a},r.a.createElement(ee,{context:t})),document.getElementById(e))}catch(i){console.error("error : ",i),c.a.render(r.a.createElement(te,{item:i.item,errors:i.errors}),document.getElementById(e))}},"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},69:function(e,t,n){e.exports=n(133)},76:function(e,t,n){}},[[69,1,2]]]);
//# sourceMappingURL=main.77897921.chunk.js.map